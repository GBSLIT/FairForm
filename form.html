<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Exhibition Booth Visit Data Collection</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:system-ui,Arial;padding:24px;max-width:900px;margin:0 auto}
    .card{border:1px solid #ddd;border-radius:12px;padding:20px}
    label{display:block;margin:12px 0 6px}
    input,textarea,select{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    button{padding:12px 18px;border:0;border-radius:10px;cursor:pointer}
  </style>
</head>
<body>
  <h1>Exhibition Booth Visit Data Collection</h1>
  <div class="card">
    <form id="f" enctype="multipart/form-data">
      <label>Fair Name</label>
      <input name="fairName" required>

      <label>Company Name</label>
      <input name="companyName" required>

      <div class="grid">
        <div>
          <label>Contact Person Name</label>
          <input name="contactPerson" required>
        </div>
        <div>
          <label>Contact Email ID</label>
          <input name="contactEmail" type="email" required>
        </div>
      </div>

      <div class="grid">
        <div>
          <label>Mobile Number</label>
          <input name="mobileNumber">
        </div>
        <div>
          <label>Designation or Role</label>
          <input name="designation">
        </div>
      </div>

      <label>Key Product Category</label>
      <input name="keyProductCategory">

      <label>Company Type Manufacturer or Trading or Designer or Other</label>
      <input name="companyType">

      <label>Materials wood or rattan or metal or glass etc</label>
      <input name="materials">

      <label>Full Address</label>
      <textarea name="fullAddress" rows="2"></textarea>

      <label>Company Location City or Country or Nearest Airport or Train Station</label>
      <input name="companyLocation">

      <label>Global Base contact person name</label>
      <input name="gbContact">

      <hr style="margin:18px 0">

      <label>Visiting Card upload one or more</label>
      <input name="visitingCard" type="file" multiple accept="image/*,application/pdf">

      <label>Booth Photos or Product Photos upload one or more</label>
      <input name="boothPhotos" type="file" multiple accept="image/*,video/*">

      <label>Catalogue upload one or more</label>
      <input name="catalogue" type="file" multiple accept=".pdf,.ppt,.pptx,image/*,video/*,.doc,.docx">

      <div style="margin-top:16px">
        <button type="submit">Submit</button>
      </div>
    </form>
    <p id="status"></p>
  </div>

  <script>
    const statusEl = document.getElementById('status');
    const form = document.getElementById('f');

    form.addEventListener('submit', async e => {
      e.preventDefault();
      statusEl.textContent = 'Submitting';
      const fd = new FormData(form);
      try{
        const r = await fetch('/api/submit', { method: 'POST', body: fd });
        if(!r.ok) throw new Error('Server error');
        const j = await r.json();
        statusEl.textContent = 'Thank you  reference ' + j.id;
        form.reset();
      }catch(err){
        console.error(err);
        statusEl.textContent = 'There was an error submitting the form';
      }
    });
  </script>
</body>
</html>
